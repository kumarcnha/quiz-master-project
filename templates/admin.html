{% extends "base.html" %}

{% block content %}
<div class="card" style="max-width: 800px; margin: 0 auto;">
    <h1 style="text-align: center;">ðŸ‘‘ Admin Dashboard</h1>
    <a href="{{ url_for('dashboard') }}" class="btn" style="margin-bottom: 20px;">&larr; Back to Quiz</a>

    <h3>ðŸ‘¥ Registered Users ({{ users|length }})</h3>
    <table style="width: 100%; border-collapse: collapse; margin-bottom: 30px; background: rgba(255,255,255,0.05);">
        <tr style="background: rgba(255,255,255,0.1); text-align: left;">
            <th style="padding: 10px;">ID</th>
            <th style="padding: 10px;">Username</th>
            <th style="padding: 10px;">Password Hash (Secure)</th>
        </tr>
        {% for user in users %}
        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
            <td style="padding: 10px;">{{ user.id }}</td>
            <td style="padding: 10px; font-weight: bold; color: #00f260;">{{ user.username }}</td>
            <td style="padding: 10px; font-size: 0.8rem; opacity: 0.7;">{{ user.password[:20] }}...</td>
        </tr>
        {% endfor %}
    </table>

    <h3>ðŸ“Š Quiz Attempts</h3>
    <table style="width: 100%; border-collapse: collapse; background: rgba(255,255,255,0.05);">
        <tr style="background: rgba(255,255,255,0.1); text-align: left;">
            <th style="padding: 10px;">User ID</th>
            <th style="padding: 10px;">Subject</th>
            <th style="padding: 10px;">Score</th>
        </tr>
        {% for score in scores %}
        <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
            <td style="padding: 10px;">{{ score.user_id }}</td>
            <td style="padding: 10px;">{{ score.subject|upper }}</td>
            <td style="padding: 10px;">
                <span style="background: white; color: #333; padding: 2px 8px; border-radius: 10px; font-weight: bold;">
                    {{ score.score }}
                </span>
            </td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}